# DG-LAB MCP 服务器配置示例
# 复制此文件为 .env 并根据需要修改配置

# HTTP/WebSocket 服务端口（共享）
PORT=3323

# 公网IP地址（用于生成二维码，留空则自动检测本地IP）
# 如果服务器部署在公网或需要远程访问，请填写公网IP
PUBLIC_IP=

# MCP 传输模式：sse | http | stdio
# sse   - SSE + POST（默认）
# http  - 纯 HTTP JSON-RPC（同步响应）
# stdio - 标准输入输出（npm 包内嵌 MCP）
MCP_TRANSPORT=sse

# SSE 端点路径
SSE_PATH=/sse

# POST 端点路径
POST_PATH=/message

# HTTP 模式下的 JSON-RPC 路径
HTTP_RPC_PATH=/rpc

# 会话存储路径（仅用于持久化，当前版本仅内存存储）
SESSION_STORE_PATH=./data/sessions.json

# 波形存储路径
WAVEFORM_STORE_PATH=./data/waveforms.json

# 心跳间隔（毫秒）
HEARTBEAT_INTERVAL=30000

# 设备过期超时（毫秒）
STALE_DEVICE_TIMEOUT=3600000

# 连接超时时间（分钟）
# 会话创建后在此时间内未绑定 APP 则自动销毁
CONNECTION_TIMEOUT_MINUTES=5

# 重连超时时间（分钟）
# 设备断开连接后在此时间内可以重新连接而不丢失会话
# 仅对已绑定的设备生效，未绑定的设备断开后立即销毁
RECONNECTION_TIMEOUT_MINUTES=5
